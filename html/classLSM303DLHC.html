<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>libpropeller: LSM303DLHC Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="libpropeller_bird_icon.JPG"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpropeller
   </div>
   <div id="projectbrief">Making PropellerGCC Easier</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classLSM303DLHC-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">LSM303DLHC Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides an interface to the <a class="el" href="classLSM303DLHC.html" title="Provides an interface to the LSM303DLHC accelerometer and magnetometer. ">LSM303DLHC</a> accelerometer and magnetometer.  
 <a href="classLSM303DLHC.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="lsm303dlhc_8h_source.html">lsm303dlhc.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a52487e6639500d0b45e92c92ba054924"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSM303DLHC.html#a52487e6639500d0b45e92c92ba054924">LSM303DLHC</a> ()</td></tr>
<tr class="memdesc:a52487e6639500d0b45e92c92ba054924"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classLSM303DLHC.html" title="Provides an interface to the LSM303DLHC accelerometer and magnetometer. ">LSM303DLHC</a> instance.  <a href="#a52487e6639500d0b45e92c92ba054924">More...</a><br/></td></tr>
<tr class="separator:a52487e6639500d0b45e92c92ba054924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd987662076362d6b48522a3a4662ddf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSM303DLHC.html#abd987662076362d6b48522a3a4662ddf">Init</a> (<a class="el" href="classI2C.html">I2C</a> *i2c_bus)</td></tr>
<tr class="memdesc:abd987662076362d6b48522a3a4662ddf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests to make sure that the <a class="el" href="classLSM303DLHC.html" title="Provides an interface to the LSM303DLHC accelerometer and magnetometer. ">LSM303DLHC</a> is actually on the bus, and returns false if it is not.  <a href="#abd987662076362d6b48522a3a4662ddf">More...</a><br/></td></tr>
<tr class="separator:abd987662076362d6b48522a3a4662ddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee73d6cf921dd60467a6100dbb2d78c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSM303DLHC.html#a7ee73d6cf921dd60467a6100dbb2d78c">ReadAccl</a> (int &amp;x, int &amp;y, int &amp;z)</td></tr>
<tr class="memdesc:a7ee73d6cf921dd60467a6100dbb2d78c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the accelerometer at the current settings, and updates the three reference values.  <a href="#a7ee73d6cf921dd60467a6100dbb2d78c">More...</a><br/></td></tr>
<tr class="separator:a7ee73d6cf921dd60467a6100dbb2d78c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a846bddda451a6f8b6522f358d72b118a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLSM303DLHC.html#a846bddda451a6f8b6522f358d72b118a">ReadMagn</a> (int &amp;x, int &amp;y, int &amp;z)</td></tr>
<tr class="memdesc:a846bddda451a6f8b6522f358d72b118a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the magnetometer at the current settings, and updates the three reference values.  <a href="#a846bddda451a6f8b6522f358d72b118a">More...</a><br/></td></tr>
<tr class="separator:a846bddda451a6f8b6522f358d72b118a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides an interface to the <a class="el" href="classLSM303DLHC.html" title="Provides an interface to the LSM303DLHC accelerometer and magnetometer. ">LSM303DLHC</a> accelerometer and magnetometer. </p>
<p>"Output Data Rate, in digital-output accelerometers, defines the rate at which data is sampled. Bandwidth is the highest frequency signal that can be sampled without aliasing by the specified Output Data Rate. Per the Nyquist sampling criterion, bandwidth is half the Output Data Rate." -Analog Devices</p>
<p>See this question for more information on ODR: <a href="http://electronics.stackexchange.com/questions/67610/lsm303dlhc-low-power-and-high-precision-modes">http://electronics.stackexchange.com/questions/67610/lsm303dlhc-low-power-and-high-precision-modes</a></p>
<dl class="section author"><dt>Author</dt><dd>SRLM (<a href="#" onclick="location.href='mai'+'lto:'+'srl'+'m@'+'srl'+'mp'+'rod'+'uc'+'tio'+'ns'+'.co'+'m'; return false;">srlm@<span style="display: none;">.nosp@m.</span>srlm<span style="display: none;">.nosp@m.</span>produ<span style="display: none;">.nosp@m.</span>ctio<span style="display: none;">.nosp@m.</span>ns.co<span style="display: none;">.nosp@m.</span>m</a>) </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a52487e6639500d0b45e92c92ba054924"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LSM303DLHC::LSM303DLHC </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="classLSM303DLHC.html" title="Provides an interface to the LSM303DLHC accelerometer and magnetometer. ">LSM303DLHC</a> instance. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abd987662076362d6b48522a3a4662ddf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LSM303DLHC::Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classI2C.html">I2C</a> *&#160;</td>
          <td class="paramname"><em>i2c_bus</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests to make sure that the <a class="el" href="classLSM303DLHC.html" title="Provides an interface to the LSM303DLHC accelerometer and magnetometer. ">LSM303DLHC</a> is actually on the bus, and returns false if it is not. </p>
<p>Otherwise, sets the registers as follows and returns true. </p>
<pre class="fragment">  Set the control registers of the accelerometer:
</pre><ul>
<li>CTRL_REG1_A:<ul>
<li>1.344kHz output rate</li>
<li>Normal power</li>
<li>XYZ enabled</li>
</ul>
</li>
<li>CTRL_REG4_A:<ul>
<li>Block data continuous update (default)</li>
<li>data LSB @ lower address (default)</li>
<li>Full scale +-16G</li>
<li>High resolution output enable (SRLM: what does this mean? datasheet is no help)</li>
<li>00 (no functionality)</li>
<li>SPI interface mode (default, not used)</li>
</ul>
</li>
</ul>
<pre class="fragment">   Set the control registers of the Magn :
</pre><ul>
<li>CRA_REG_M:<ul>
<li>Temperature sensor enable true</li>
<li>00 (no functionality)</li>
<li>220Hz Output data rate</li>
</ul>
</li>
<li>CRB_REG_M:<ul>
<li>8.1+- guass</li>
<li>00000 (no functionality)</li>
</ul>
</li>
<li>MR_REG_M:<ul>
<li>000000 (no functionality)</li>
<li>Continuous conversion mode (SRLM: What does this actually mean? Datasheet is no help)</li>
</ul>
</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i2cbus</td><td>The bus that the <a class="el" href="classLSM303DLHC.html" title="Provides an interface to the LSM303DLHC accelerometer and magnetometer. ">LSM303DLHC</a> is on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true when both devices are successfully initialized. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLSM303DLHC_abd987662076362d6b48522a3a4662ddf_cgraph.png" border="0" usemap="#classLSM303DLHC_abd987662076362d6b48522a3a4662ddf_cgraph" alt=""/></div>
<map name="classLSM303DLHC_abd987662076362d6b48522a3a4662ddf_cgraph" id="classLSM303DLHC_abd987662076362d6b48522a3a4662ddf_cgraph">
<area shape="rect" id="node3" href="classI2C.html#a11afa1921c1287013e7bcb6675878a49" title="Test for the Acknowledge of a device by sending start and the slave address. " alt="" coords="187,32,264,61"/><area shape="rect" id="node11" href="classI2C.html#ac049214532a342b5732609eece614405" title="Put a single byte with the following format: " alt="" coords="191,85,260,115"/><area shape="rect" id="node5" href="classI2CBase.html#a16dc0177aab341a936f508e5e91406be" title="Output a start condition on the I2C bus. " alt="" coords="327,5,436,35"/><area shape="rect" id="node7" href="classI2CBase.html#a7cdbdb037ac9b84275d5f0d04476b8ce" title="Output a byte on the I2C bus. " alt="" coords="312,59,451,88"/><area shape="rect" id="node9" href="classI2CBase.html#a0e0b9bc5b9a5a34fa78187e71f3731d1" title="Output a stop condition on the I2C bus. " alt="" coords="328,112,435,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7ee73d6cf921dd60467a6100dbb2d78c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LSM303DLHC::ReadAccl </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the accelerometer at the current settings, and updates the three reference values. </p>
<p>If there is an error then x, y, and z will be set to zero and false will be returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The acceleration x axis value. Will be overwritten. </td></tr>
    <tr><td class="paramname">y</td><td>The acceleration y axis value. Will be overwritten. </td></tr>
    <tr><td class="paramname">z</td><td>The acceleration z axis value. Will be overwritten. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if all is successful, false otherwise. If false, try reinitilizing </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLSM303DLHC_a7ee73d6cf921dd60467a6100dbb2d78c_cgraph.png" border="0" usemap="#classLSM303DLHC_a7ee73d6cf921dd60467a6100dbb2d78c_cgraph" alt=""/></div>
<map name="classLSM303DLHC_a7ee73d6cf921dd60467a6100dbb2d78c_cgraph" id="classLSM303DLHC_a7ee73d6cf921dd60467a6100dbb2d78c_cgraph">
<area shape="rect" id="node3" href="classI2C.html#a9b348d058ba1576dee2664e022632106" title="Get a single byte with the following format: " alt="" coords="227,85,299,115"/><area shape="rect" id="node5" href="classI2CBase.html#a16dc0177aab341a936f508e5e91406be" title="Output a start condition on the I2C bus. " alt="" coords="361,5,471,35"/><area shape="rect" id="node7" href="classI2CBase.html#a7cdbdb037ac9b84275d5f0d04476b8ce" title="Output a byte on the I2C bus. " alt="" coords="347,59,485,88"/><area shape="rect" id="node9" href="classI2CBase.html#a7e6ce0d28db009c9d5ccda75ac669680" title="Get a byte from the I2C bus. " alt="" coords="347,112,485,141"/><area shape="rect" id="node11" href="classI2CBase.html#a0e0b9bc5b9a5a34fa78187e71f3731d1" title="Output a stop condition on the I2C bus. " alt="" coords="363,165,469,195"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a846bddda451a6f8b6522f358d72b118a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LSM303DLHC::ReadMagn </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the magnetometer at the current settings, and updates the three reference values. </p>
<p>If there is an error then x, y, and z will be set to zero and false will be returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The magnetometer x axis value. Will be overwritten. </td></tr>
    <tr><td class="paramname">y</td><td>The magnetometer y axis value. Will be overwritten. </td></tr>
    <tr><td class="paramname">z</td><td>The magnetometer z axis value. Will be overwritten. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if all is successful, false otherwise. If false, try reinitilizing </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLSM303DLHC_a846bddda451a6f8b6522f358d72b118a_cgraph.png" border="0" usemap="#classLSM303DLHC_a846bddda451a6f8b6522f358d72b118a_cgraph" alt=""/></div>
<map name="classLSM303DLHC_a846bddda451a6f8b6522f358d72b118a_cgraph" id="classLSM303DLHC_a846bddda451a6f8b6522f358d72b118a_cgraph">
<area shape="rect" id="node3" href="classI2C.html#a9b348d058ba1576dee2664e022632106" title="Get a single byte with the following format: " alt="" coords="232,85,304,115"/><area shape="rect" id="node5" href="classI2CBase.html#a16dc0177aab341a936f508e5e91406be" title="Output a start condition on the I2C bus. " alt="" coords="367,5,476,35"/><area shape="rect" id="node7" href="classI2CBase.html#a7cdbdb037ac9b84275d5f0d04476b8ce" title="Output a byte on the I2C bus. " alt="" coords="352,59,491,88"/><area shape="rect" id="node9" href="classI2CBase.html#a7e6ce0d28db009c9d5ccda75ac669680" title="Get a byte from the I2C bus. " alt="" coords="352,112,491,141"/><area shape="rect" id="node11" href="classI2CBase.html#a0e0b9bc5b9a5a34fa78187e71f3731d1" title="Output a stop condition on the I2C bus. " alt="" coords="368,165,475,195"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="lsm303dlhc_8h_source.html">lsm303dlhc.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 25 2013 23:41:46 for libpropeller by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
