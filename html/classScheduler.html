<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>libpropeller: Scheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="libpropeller_bird_icon.JPG"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpropeller
   </div>
   <div id="projectbrief">Making PropellerGCC Easier</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classScheduler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Scheduler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A pollable timer to help schedule events.  
 <a href="classScheduler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="scheduler_8h_source.html">scheduler.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa507f6be6b39e362542610d4a1e316bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScheduler.html#aa507f6be6b39e362542610d4a1e316bd">Scheduler</a> (const int deci_hz)</td></tr>
<tr class="memdesc:aa507f6be6b39e362542610d4a1e316bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a schedule keeper that returns true with the specified frequency.  <a href="#aa507f6be6b39e362542610d4a1e316bd">More...</a><br/></td></tr>
<tr class="separator:aa507f6be6b39e362542610d4a1e316bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2767f8b1f033c1b4380dd7b7007f593"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScheduler.html#ae2767f8b1f033c1b4380dd7b7007f593">Run</a> (void)</td></tr>
<tr class="memdesc:ae2767f8b1f033c1b4380dd7b7007f593"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if the time period has passed yet.  <a href="#ae2767f8b1f033c1b4380dd7b7007f593">More...</a><br/></td></tr>
<tr class="separator:ae2767f8b1f033c1b4380dd7b7007f593"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a264b9998d10086c204ab678ce8d1f827"><td class="memItemLeft" align="right" valign="top">static unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classScheduler.html#a264b9998d10086c204ab678ce8d1f827">GetTicksPerPeriod</a> (const int deci_hz)</td></tr>
<tr class="memdesc:a264b9998d10086c204ab678ce8d1f827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates how many clock cycles are in each period.  <a href="#a264b9998d10086c204ab678ce8d1f827">More...</a><br/></td></tr>
<tr class="separator:a264b9998d10086c204ab678ce8d1f827"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A pollable timer to help schedule events. </p>
<dl class="section warning"><dt>Warning</dt><dd>: This class does not guarentee a minimum seperation between true <em><a class="el" href="classScheduler.html#ae2767f8b1f033c1b4380dd7b7007f593" title="Check to see if the time period has passed yet.">Run()</a></em> calls. Instead, it guarentees that, on average, a true <a class="el" href="classScheduler.html#ae2767f8b1f033c1b4380dd7b7007f593" title="Check to see if the time period has passed yet.">Run()</a> will happen with the specified frequency. Depending on how often <a class="el" href="classScheduler.html#ae2767f8b1f033c1b4380dd7b7007f593" title="Check to see if the time period has passed yet.">Run()</a> is called, there may be some jitter (if it is not called frequently enough).</dd></dl>
<dl class="section author"><dt>Author</dt><dd>SRLM </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa507f6be6b39e362542610d4a1e316bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Scheduler::Scheduler </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>deci_hz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a schedule keeper that returns true with the specified frequency. </p>
<p>The frequency is specified in units of 0.1Hz. So, to create a scheduler with a frequency of 150Hz you pass in 1500. To make a scheduler with a frequency of 0.5Hz (once every two seconds), you pass in 5 (0.1Hz * 5 = 0.5Hz). A scheduler with a frequency of 1Hz takes a parameter of 10.</p>
<dl class="section warning"><dt>Warning</dt><dd><em>deci_hz</em> must be 1 or more! Setting it less will result in a runtime error. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deci_hz</td><td>The frequency (in 10x true return values per second). </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classScheduler_aa507f6be6b39e362542610d4a1e316bd_cgraph.png" border="0" usemap="#classScheduler_aa507f6be6b39e362542610d4a1e316bd_cgraph" alt=""/></div>
<map name="classScheduler_aa507f6be6b39e362542610d4a1e316bd_cgraph" id="classScheduler_aa507f6be6b39e362542610d4a1e316bd_cgraph">
<area shape="rect" id="node3" href="classScheduler.html#a264b9998d10086c204ab678ce8d1f827" title="Calculates how many clock cycles are in each period." alt="" coords="201,5,399,35"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a264b9998d10086c204ab678ce8d1f827"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned int Scheduler::GetTicksPerPeriod </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>deci_hz</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates how many clock cycles are in each period. </p>
<p>For testing only!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deci_hz</td><td>The frequency is deci-hz (hz * 10) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of clock cycles (ticks) per period. </dd></dl>

</div>
</div>
<a class="anchor" id="ae2767f8b1f033c1b4380dd7b7007f593"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Scheduler::Run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check to see if the time period has passed yet. </p>
<p>This function is not blocking. This class keeps an internal state that watches the system counter, and if the next "period" has begun returns true the next time that this function is called. It then returns false for the rest of the current period.</p>
<p>This function is useful for scheduling reseting watchdog timers, determining when to poll external sensors, and so on.</p>
<p>The function returns true for each time period, so if it is not called for multiple time periods it returns true for each (up to hz times).</p>
<dl class="section return"><dt>Returns</dt><dd>true if the time period has passed, false otherwise. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="scheduler_8h_source.html">scheduler.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 23 2013 05:11:53 for libpropeller by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
